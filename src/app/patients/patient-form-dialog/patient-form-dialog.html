<div class="dialog-header">
  <h2>
    {{ data?.readOnly ? 'ğŸ‘€ Ver Paciente' : (data?.patient ? 'âœï¸ Editar Paciente' : 'â• Nuevo Paciente') }}
  </h2>
  <button class="close-btn" (click)="cerrar()" aria-label="Cerrar">âœ–</button>
</div>

<!-- Barra de navegaciÃ³n -->
<div class="nav-tabs">
  <button type="button" (click)="scrollTo('info-basica')">ğŸ§¾ Info BÃ¡sica</button>
  <button type="button" (click)="scrollTo('contacto')">ğŸ“ Contacto</button>
  <button type="button" (click)="scrollTo('salud')">âš•ï¸ Salud</button>
  <button type="button" (click)="scrollTo('otros')">ğŸ“‚Otros</button>
</div>

<form [formGroup]="form" (ngSubmit)="guardar()" class="dialog-form">
  <!-- secciÃ³n 1 -->
  <h3 id="info-basica">InformaciÃ³n BÃ¡sica</h3>
  <div class="form-row">
    <div class="form-field">
      <label>Tipo Doc</label>
      <select formControlName="tipo_doc">
        <option value="" disabled>Seleccione...</option>
        <option *ngFor="let tipo of tiposDocumento" [value]="tipo">{{ tipo }}</option>
      </select>
    </div>
    <div class="form-field">
      <label>NÃºmero Doc</label>
      <input type="text" formControlName="num_doc" />
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label>Nombre</label>
      <input type="text" formControlName="nombre" />
    </div>
    <div class="form-field">
      <label>Apellido</label>
      <input type="text" formControlName="apellido" />
    </div>
  </div>

  <!-- secciÃ³n 2 -->
  <h3 id="contacto">Contacto</h3>
  <div class="form-row">
    <div class="form-field"> <label>DirecciÃ³n</label> <input type="text" formControlName="direccion" /> </div>
    <div class="form-field"> <label>TelÃ©fono</label> <input type="text" formControlName="telefono" /> </div>
  </div>
  <div class="form-row">
    <div class="form-field"> <label>TelÃ©fono secundario</label> <input type="text"
        formControlName="telefono_secundario" /> </div>
    <div class="form-field"> <label>Email</label> <input type="email" formControlName="email" /> </div>
  </div>
  
  <!-- secciÃ³n 3 -->
  <h3 id="salud">Datos de Salud</h3>
  <div class="form-row">
    <div class="form-field">
      <label>Fecha nacimiento</label>
      <input type="date" formControlName="fecha_nacimiento" />
    </div>
    <div class="form-field">
      <label>GÃ©nero</label>
      <select formControlName="genero">
        <option value="" disabled>Seleccione...</option>
        <option *ngFor="let g of generos" [value]="g">{{ g }}</option>
      </select>
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label>OcupaciÃ³n</label>
      <input type="text" formControlName="ocupacion" />
    </div>
    <div class="form-field">
      <label>EPS</label>
      <input type="text" formControlName="eps" />
    </div>
  </div>

  <div class="form-row">
    <div class="form-field">
      <label>RÃ©gimen</label>
      <select formControlName="regimen">
        <option value="" disabled>Seleccione...</option>
        <option *ngFor="let r of regimenes" [value]="r">{{ r }}</option>
      </select>
    </div>
    <div class="form-field">
      <label>Modalidad deportiva</label>
      <input type="text" formControlName="modalidad_deportiva" />
    </div>
  </div>

  <!-- secciÃ³n 4 -->
  <h3 id="otros">Otros</h3>
  <div class="form-row">
    <div class="form-field">
      <label>Red de apoyo</label>
      <select formControlName="red_apoyo">
        <option [ngValue]="true">SÃ­</option>
        <option [ngValue]="false">No</option>
      </select>
    </div>
    <div class="form-field">
      <label>Antecedentes</label>
      <textarea formControlName="antecedentes"></textarea>
    </div>
  </div>

  <!-- acciones -->
  <div class="acciones" *ngIf="!data?.readOnly">
    <button type="submit" class="btn btn-primary">ğŸ’¾ Guardar</button>
    <button type="button" class="btn btn-cancel" (click)="cerrar()">âœ– Cancelar</button>
  </div>
</form>